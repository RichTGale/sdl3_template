<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang xml:lang>
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>SDL_AudioCVT</title>
  <style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}

ul.task-list[class]{list-style: none;}
ul.task-list li input[type="checkbox"] {
font-size: inherit;
width: 0.8em;
margin: 0 0.8em 0.2em -1.6em;
vertical-align: middle;
}
.display.math{display: block; text-align: center; margin: 0.5rem auto;}

pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
{ counter-reset: source-line 0; }
pre.numberSource code > span
{ position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
{ content: counter(source-line);
position: relative; left: -1em; text-align: right; vertical-align: baseline;
border: none; display: inline-block;
-webkit-touch-callout: none; -webkit-user-select: none;
-khtml-user-select: none; -moz-user-select: none;
-ms-user-select: none; user-select: none;
padding: 0 4px; width: 4em;
color: #aaaaaa;
}
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa; padding-left: 4px; }
div.sourceCode
{ }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } 
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.at { color: #7d9029; } 
code span.bn { color: #40a070; } 
code span.bu { color: #008000; } 
code span.cf { color: #007020; font-weight: bold; } 
code span.ch { color: #4070a0; } 
code span.cn { color: #880000; } 
code span.co { color: #60a0b0; font-style: italic; } 
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.do { color: #ba2121; font-style: italic; } 
code span.dt { color: #902000; } 
code span.dv { color: #40a070; } 
code span.er { color: #ff0000; font-weight: bold; } 
code span.ex { } 
code span.fl { color: #40a070; } 
code span.fu { color: #06287e; } 
code span.im { color: #008000; font-weight: bold; } 
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.kw { color: #007020; font-weight: bold; } 
code span.op { color: #666666; } 
code span.ot { color: #007020; } 
code span.pp { color: #bc7a00; } 
code span.sc { color: #4070a0; } 
code span.ss { color: #bb6688; } 
code span.st { color: #4070a0; } 
code span.va { color: #19177c; } 
code span.vs { color: #4070a0; } 
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } 
</style>
  <style type="text/css">:root {
color-scheme: dark light; 
}
body {
background-color: white;
padding: 2vw;
color: #333;
max-width: 1200px;
margin: 0 auto;
font-size: 16px;
line-height: 1.5;
font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "Noto Sans",
Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji";
overflow-wrap: break-word;
}
a {
color: #0969da;

}
a:visited {
color: #064998;
}
h1 {
border-bottom: 2px solid #efefef;
}
h2 {
border-bottom: 1px solid #efefef;
}
p {
max-width: 85ch;
}
li {
max-width: 85ch;
}
div.sourceCode {
background-color: #f6f8fa;
max-width: 100%;
padding: 16px;
}
code {
background-color: #f6f8fa;
padding: 0px;
font-family: ui-monospace, SFMono-Regular, "SF Mono", Menlo, Consolas,
"Liberation Mono", monospace;
}
table {
border: 1px solid #808080;
border-collapse: collapse;
}
td {
border: 1px solid #808080;
padding: 5px;
}
tr:nth-child(even) {
background-color: #f6f8fa;
}
.wikitopbanner {
display: flex;
justify-content: space-between;
align-items: center;
background-color: #efefef;
padding: 10px;
margin-bottom: 10px;
width: auto;
}
.wikibottombanner {
background-color: #efefef;
padding: 10px;
margin-top: 10px;
width: auto;
}
.alertBox {
background-color: #f8d7da;
border: 1px solid #f5c6cb;
max-width: 60%;
padding: 10;
margin: auto;
}
.anchorImage {
visibility: hidden;
padding-left: 0.2em;
color: #fff;
}
.anchorText:hover .anchorImage {
visibility: visible;
}
hr {
display: block;
height: 1px;
border: 0;
border-top: 1px solid #efefef;
margin: 1em 0;
padding: 0;
}

@media (prefers-color-scheme: dark) {
body {
color: #e6edf3;
background-color: #0d1117;
}
h1 {
border-color: rgba(48, 54, 61, 0.7);
}
h2 {
border-color: rgba(48, 54, 61, 0.7);
}
hr {
border-color: rgba(48, 54, 61, 0.7);
}
div.sourceCode {
background-color: #161b22;
}
code {
background-color: #161b22;
}
a {
color: #4493f8;
}
a:visited {
color: #2f66ad;
}
table {
border-color: rgba(48, 54, 61, 0.7);
}
td {
border-color: rgba(48, 54, 61, 0.7);
}
tr:nth-child(even) {
background-color: #161b22;
}
.wikitopbanner {
background-color: #263040;
}
.wikibottombanner {
background-color: #263040;
}
.anchorText:hover .anchorImage {
filter: invert(100%);
}
}
@media print {
body {
font-size: 12px;
}
table {
font-size: inherit;
}
a:visited {
color: #0969da;
}
.wikitopbanner,
.anchorText,
.wikibottombanner {
display: none;
}
}
</style>
  <style type="text/css"> code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
span.underline{text-decoration: underline;}
div.column{display: inline-block; vertical-align: top; width: 50%;}
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
{ position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
{ content: attr(title);
position: relative; left: -1em; text-align: right; vertical-align: baseline;
border: none; pointer-events: all; display: inline-block;
-webkit-touch-callout: none; -webkit-user-select: none;
-khtml-user-select: none; -moz-user-select: none;
-ms-user-select: none; user-select: none;
padding: 0 4px; width: 4em;
color: #aaaaaa;
}
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa; padding-left: 4px; }
div.sourceCode
{ }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } 
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.at { color: #7d9029; } 
code span.bn { color: #40a070; } 
code span.bu { } 
code span.cf { color: #007020; font-weight: bold; } 
code span.ch { color: #4070a0; } 
code span.cn { color: #880000; } 
code span.co { color: #60a0b0; font-style: italic; } 
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.do { color: #ba2121; font-style: italic; } 
code span.dt { color: #902000; } 
code span.dv { color: #40a070; } 
code span.er { color: #ff0000; font-weight: bold; } 
code span.ex { } 
code span.fl { color: #40a070; } 
code span.fu { color: #06287e; } 
code span.im { } 
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.kw { color: #007020; font-weight: bold; } 
code span.op { color: #666666; } 
code span.ot { color: #007020; } 
code span.pp { color: #bc7a00; } 
code span.sc { color: #4070a0; } 
code span.ss { color: #bb6688; } 
code span.st { color: #4070a0; } 
code span.va { color: #19177c; } 
code span.vs { color: #4070a0; } 
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } 
@media (prefers-color-scheme: dark) {
code span.al { color: #95da4c; font-weight: bold; } 
code span.an { color: #3f8058; } 
code span.at { color: #2980b9; } 
code span.bn { color: #f67400; } 
code span.bu { color: #7f8c8d; } 
code span.ch { color: #3daee9; } 
code span.co { color: #7a7c7d; } 
code span.cv { color: #7f8c8d; } 
code span.cn { color: #27aeae; font-weight: bold; } 
code span.cf { color: #fdbc4b; font-weight: bold; } 
code span.dt { color: #2980b9; } 
code span.dv { color: #f67400; } 
code span.do { color: #a43340; } 
code span.er { color: #da4453; } 
code span.ex { color: #0099ff; font-weight: bold; } 
code span.fl { color: #f67400; } 
code span.fu { color: #8e44ad; } 
code span.im { color: #27ae60; } 
code span.in { color: #c45b00; } 
code span.kw { color: #cfcfc2; font-weight: bold; } 
code span.op { color: #cfcfc2; } 
code span.ot { color: #27ae60; } 
code span.pp { color: #27ae60; } 
code span.sc { color: #3daee9; } 
code span.ss { color: #da4453; } 
code span.st { color: #f44f4f; } 
code span.va { color: #27aeae; } 
code span.vs { color: #da4453; } 
code span.wa { color: #da4453; } 
}</style>
</head>
<body>
<h1 id="sdl_audiocvt">SDL_AudioCVT</h1>
<p>A structure that contains audio data conversion information.</p>
<h2 id="data_fields">Data Fields</h2>
<table>
<tbody>
<tr class="odd">
<td><p>int</p></td>
<td><p><strong>needed</strong></p></td>
<td><p>set to 1 if conversion possible</p></td>
</tr>
<tr class="even">
<td><p><a href="SDL_AudioFormat.html" title="wikilink">SDL_AudioFormat</a></p></td>
<td><p><strong>src_format</strong></p></td>
<td><p>source audio format</p></td>
</tr>
<tr class="odd">
<td><p><a href="SDL_AudioFormat.html" title="wikilink">SDL_AudioFormat</a></p></td>
<td><p><strong>dst_format</strong></p></td>
<td><p>target audio format</p></td>
</tr>
<tr class="even">
<td><p>double</p></td>
<td><p><strong>rate_incr</strong></p></td>
<td><p>rate conversion increment</p></td>
</tr>
<tr class="odd">
<td><p>Uint8*</p></td>
<td><p><strong>buf</strong></p></td>
<td><p>the buffer to hold entire audio data; see <a href="#buf" title="wikilink">Remarks</a> for details</p></td>
</tr>
<tr class="even">
<td><p>int</p></td>
<td><p><strong>len</strong></p></td>
<td><p>length of original audio buffer; see <a href="#len" title="wikilink">Remarks</a> for details</p></td>
</tr>
<tr class="odd">
<td><p>int</p></td>
<td><p><strong>len_cvt</strong></p></td>
<td><p>length of converted audio buffer</p></td>
</tr>
<tr class="even">
<td><p>int</p></td>
<td><p><strong>len_mult</strong></p></td>
<td><p><strong>buf</strong> must be len*len_mult big; see <a href="#len_mult" title="wikilink">Remarks</a> for details</p></td>
</tr>
<tr class="odd">
<td><p>double</p></td>
<td><p><strong>len_ratio</strong></p></td>
<td><p>given <strong>len</strong>, final size is len*len_ratio; see <a href="#len_ratio" title="wikilink">Remarks</a> for details</p></td>
</tr>
<tr class="even">
<td><p><span style="color: rgb(128, 128, 128);">SDL_AudioFilter[10]</p></td>
<td><p><strong>filters</strong></p></td>
<td><p>filter list (internal use)</p></td>
</tr>
<tr class="odd">
<td><p><span style="color: rgb(128, 128, 128);">int</p></td>
<td><p><strong>filter_index</strong></p></td>
<td><p>current audio conversion function (internal use)</p></td>
</tr>
</tbody>
</table>
<h2 id="code_examples">Code Examples</h2>
<div class="sourceCode" id="cb1"><pre class="sourceCode c++"><code class="sourceCode cpp"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="co">// Change 1024 stereo sample frames at 48000Hz from float32 to int16.</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a>SDL_AudioCVT cvt<span class="op">;</span></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a>SDL_BuildAudioCVT<span class="op">(&amp;</span>cvt<span class="op">,</span> AUDIO_F32<span class="op">,</span> <span class="dv">2</span><span class="op">,</span> <span class="dv">48000</span><span class="op">,</span> AUDIO_S16<span class="op">,</span> <span class="dv">2</span><span class="op">,</span> <span class="dv">48000</span><span class="op">);</span></span>
<span id="cb1-4"><a href="#cb1-4" aria-hidden="true" tabindex="-1"></a>SDL_assert<span class="op">(</span>cvt<span class="op">.</span>needed<span class="op">);</span> <span class="co">// obviously, this one is always needed.</span></span>
<span id="cb1-5"><a href="#cb1-5" aria-hidden="true" tabindex="-1"></a>cvt<span class="op">.</span>len <span class="op">=</span> <span class="dv">1024</span> <span class="op">*</span> <span class="dv">2</span> <span class="op">*</span> <span class="dv">4</span><span class="op">;</span>  <span class="co">// 1024 stereo float32 sample frames.</span></span>
<span id="cb1-6"><a href="#cb1-6" aria-hidden="true" tabindex="-1"></a>cvt<span class="op">.</span>buf <span class="op">=</span> <span class="op">(</span>Uint8 <span class="op">*)</span> SDL_malloc<span class="op">(</span>cvt<span class="op">.</span>len <span class="op">*</span> cvt<span class="op">.</span>len_mult<span class="op">);</span></span>
<span id="cb1-7"><a href="#cb1-7" aria-hidden="true" tabindex="-1"></a><span class="co">// read your float32 data into cvt.buf here.</span></span>
<span id="cb1-8"><a href="#cb1-8" aria-hidden="true" tabindex="-1"></a>SDL_ConvertAudio<span class="op">(&amp;</span>cvt<span class="op">);</span></span>
<span id="cb1-9"><a href="#cb1-9" aria-hidden="true" tabindex="-1"></a><span class="co">// cvt.buf has cvt.len_cvt bytes of converted data now.</span></span></code></pre></div>
<h2 id="remarks">Remarks</h2>
<p>The <a href="SDL_AudioCVT.html" title="wikilink">SDL_AudioCVT</a>
structure is used to convert audio data between different formats. An <a href="SDL_AudioCVT.html" title="wikilink">SDL_AudioCVT</a> structure is
initialized with the <a href="SDL_BuildAudioCVT.html" title="wikilink">SDL_BuildAudioCVT</a>() function, while the actual
conversion is done by the <a href="SDL_ConvertAudio.html" title="wikilink">SDL_ConvertAudio</a>() function, once the application
has set up appropriately-sized buffers between these two function
calls.</p>
<p><span id="buf"></span><strong>buf</strong> points to the audio data
that will be used in the conversion. It is both the source and the
destination, which means the converted audio data overwrites the
original data. It also means that the converted data may be larger than
the original data (if you were converting from 8-bit to 16-bit, for
instance), so you must ensure <strong>buf</strong> is large enough for
any stage of the conversion, regardless of the final converted data&#39;s
size. See <strong>len_mult</strong> below for more info.</p>
<p><span id="len"></span><strong>len</strong> is the length of the
original audio data in bytes.</p>
<p><span id="len_mult"></span><strong>len_mult</strong> is the length
multiplier for determining the size of the converted data. The audio
buffer may need to be larger than either the original data or the
converted data.. The allocated size of <strong>buf</strong> should be
<strong>len</strong>*<strong>len_mult</strong>.</p>
<p><span id="len_ratio"></span><strong>len_ratio</strong> is the length
ratio of the converted data to the original data. When you have finished
converting your audio data, you need to know how much of your audio
buffer is valid. <strong>len</strong>*<strong>len_ratio</strong> is the
size of the converted audio data in bytes. This is very similar to
<strong>len_mult</strong>, however when the converted audio data is
shorter than the original, <strong>len_mult</strong> would be 1.
<strong>len_ratio</strong>, on the other hand, would be a fractional
number between 0 and 1.</p>
<h2 id="related_functions">Related Functions</h2>
<dl>
<dt></dt>
<dd>
<a href="SDL_BuildAudioCVT.html" title="wikilink">SDL_BuildAudioCVT</a>
</dd>
<dd>
<a href="SDL_ConvertAudio.html" title="wikilink">SDL_ConvertAudio</a>
</dd>
</dl>
<hr />
<p><a href="CategoryAPI.html" title="wikilink">CategoryAPI</a>, <a href="CategoryAPIStruct.html" title="wikilink">CategoryAPIStruct</a>, <a href="CategoryAudio.html" title="wikilink">CategoryAudio</a></p>
</body>
</html>
