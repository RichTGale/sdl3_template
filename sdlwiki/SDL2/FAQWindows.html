<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang xml:lang>
<head>
  <meta charset="utf-8" />
  <meta name="generator" content="pandoc" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes" />
  <title>FAQWindows</title>
  <style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}

ul.task-list[class]{list-style: none;}
ul.task-list li input[type="checkbox"] {
font-size: inherit;
width: 0.8em;
margin: 0 0.8em 0.2em -1.6em;
vertical-align: middle;
}
.display.math{display: block; text-align: center; margin: 0.5rem auto;}

pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
{ counter-reset: source-line 0; }
pre.numberSource code > span
{ position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
{ content: counter(source-line);
position: relative; left: -1em; text-align: right; vertical-align: baseline;
border: none; display: inline-block;
-webkit-touch-callout: none; -webkit-user-select: none;
-khtml-user-select: none; -moz-user-select: none;
-ms-user-select: none; user-select: none;
padding: 0 4px; width: 4em;
color: #aaaaaa;
}
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa; padding-left: 4px; }
div.sourceCode
{ }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } 
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.at { color: #7d9029; } 
code span.bn { color: #40a070; } 
code span.bu { color: #008000; } 
code span.cf { color: #007020; font-weight: bold; } 
code span.ch { color: #4070a0; } 
code span.cn { color: #880000; } 
code span.co { color: #60a0b0; font-style: italic; } 
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.do { color: #ba2121; font-style: italic; } 
code span.dt { color: #902000; } 
code span.dv { color: #40a070; } 
code span.er { color: #ff0000; font-weight: bold; } 
code span.ex { } 
code span.fl { color: #40a070; } 
code span.fu { color: #06287e; } 
code span.im { color: #008000; font-weight: bold; } 
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.kw { color: #007020; font-weight: bold; } 
code span.op { color: #666666; } 
code span.ot { color: #007020; } 
code span.pp { color: #bc7a00; } 
code span.sc { color: #4070a0; } 
code span.ss { color: #bb6688; } 
code span.st { color: #4070a0; } 
code span.va { color: #19177c; } 
code span.vs { color: #4070a0; } 
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } 
</style>
  <style type="text/css">:root {
color-scheme: dark light; 
}
body {
background-color: white;
padding: 2vw;
color: #333;
max-width: 1200px;
margin: 0 auto;
font-size: 16px;
line-height: 1.5;
font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", "Noto Sans",
Helvetica, Arial, sans-serif, "Apple Color Emoji", "Segoe UI Emoji";
overflow-wrap: break-word;
}
a {
color: #0969da;

}
a:visited {
color: #064998;
}
h1 {
border-bottom: 2px solid #efefef;
}
h2 {
border-bottom: 1px solid #efefef;
}
p {
max-width: 85ch;
}
li {
max-width: 85ch;
}
div.sourceCode {
background-color: #f6f8fa;
max-width: 100%;
padding: 16px;
}
code {
background-color: #f6f8fa;
padding: 0px;
font-family: ui-monospace, SFMono-Regular, "SF Mono", Menlo, Consolas,
"Liberation Mono", monospace;
}
table {
border: 1px solid #808080;
border-collapse: collapse;
}
td {
border: 1px solid #808080;
padding: 5px;
}
tr:nth-child(even) {
background-color: #f6f8fa;
}
.wikitopbanner {
display: flex;
justify-content: space-between;
align-items: center;
background-color: #efefef;
padding: 10px;
margin-bottom: 10px;
width: auto;
}
.wikibottombanner {
background-color: #efefef;
padding: 10px;
margin-top: 10px;
width: auto;
}
.alertBox {
background-color: #f8d7da;
border: 1px solid #f5c6cb;
max-width: 60%;
padding: 10;
margin: auto;
}
.anchorImage {
visibility: hidden;
padding-left: 0.2em;
color: #fff;
}
.anchorText:hover .anchorImage {
visibility: visible;
}
hr {
display: block;
height: 1px;
border: 0;
border-top: 1px solid #efefef;
margin: 1em 0;
padding: 0;
}

@media (prefers-color-scheme: dark) {
body {
color: #e6edf3;
background-color: #0d1117;
}
h1 {
border-color: rgba(48, 54, 61, 0.7);
}
h2 {
border-color: rgba(48, 54, 61, 0.7);
}
hr {
border-color: rgba(48, 54, 61, 0.7);
}
div.sourceCode {
background-color: #161b22;
}
code {
background-color: #161b22;
}
a {
color: #4493f8;
}
a:visited {
color: #2f66ad;
}
table {
border-color: rgba(48, 54, 61, 0.7);
}
td {
border-color: rgba(48, 54, 61, 0.7);
}
tr:nth-child(even) {
background-color: #161b22;
}
.wikitopbanner {
background-color: #263040;
}
.wikibottombanner {
background-color: #263040;
}
.anchorText:hover .anchorImage {
filter: invert(100%);
}
}
@media print {
body {
font-size: 12px;
}
table {
font-size: inherit;
}
a:visited {
color: #0969da;
}
.wikitopbanner,
.anchorText,
.wikibottombanner {
display: none;
}
}
</style>
  <style type="text/css"> code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
span.underline{text-decoration: underline;}
div.column{display: inline-block; vertical-align: top; width: 50%;}
a.sourceLine { display: inline-block; line-height: 1.25; }
a.sourceLine { pointer-events: none; color: inherit; text-decoration: inherit; }
a.sourceLine:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
a.sourceLine { text-indent: -1em; padding-left: 1em; }
}
pre.numberSource a.sourceLine
{ position: relative; left: -4em; }
pre.numberSource a.sourceLine::before
{ content: attr(title);
position: relative; left: -1em; text-align: right; vertical-align: baseline;
border: none; pointer-events: all; display: inline-block;
-webkit-touch-callout: none; -webkit-user-select: none;
-khtml-user-select: none; -moz-user-select: none;
-ms-user-select: none; user-select: none;
padding: 0 4px; width: 4em;
color: #aaaaaa;
}
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa; padding-left: 4px; }
div.sourceCode
{ }
@media screen {
a.sourceLine::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } 
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.at { color: #7d9029; } 
code span.bn { color: #40a070; } 
code span.bu { } 
code span.cf { color: #007020; font-weight: bold; } 
code span.ch { color: #4070a0; } 
code span.cn { color: #880000; } 
code span.co { color: #60a0b0; font-style: italic; } 
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.do { color: #ba2121; font-style: italic; } 
code span.dt { color: #902000; } 
code span.dv { color: #40a070; } 
code span.er { color: #ff0000; font-weight: bold; } 
code span.ex { } 
code span.fl { color: #40a070; } 
code span.fu { color: #06287e; } 
code span.im { } 
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } 
code span.kw { color: #007020; font-weight: bold; } 
code span.op { color: #666666; } 
code span.ot { color: #007020; } 
code span.pp { color: #bc7a00; } 
code span.sc { color: #4070a0; } 
code span.ss { color: #bb6688; } 
code span.st { color: #4070a0; } 
code span.va { color: #19177c; } 
code span.vs { color: #4070a0; } 
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } 
@media (prefers-color-scheme: dark) {
code span.al { color: #95da4c; font-weight: bold; } 
code span.an { color: #3f8058; } 
code span.at { color: #2980b9; } 
code span.bn { color: #f67400; } 
code span.bu { color: #7f8c8d; } 
code span.ch { color: #3daee9; } 
code span.co { color: #7a7c7d; } 
code span.cv { color: #7f8c8d; } 
code span.cn { color: #27aeae; font-weight: bold; } 
code span.cf { color: #fdbc4b; font-weight: bold; } 
code span.dt { color: #2980b9; } 
code span.dv { color: #f67400; } 
code span.do { color: #a43340; } 
code span.er { color: #da4453; } 
code span.ex { color: #0099ff; font-weight: bold; } 
code span.fl { color: #f67400; } 
code span.fu { color: #8e44ad; } 
code span.im { color: #27ae60; } 
code span.in { color: #c45b00; } 
code span.kw { color: #cfcfc2; font-weight: bold; } 
code span.op { color: #cfcfc2; } 
code span.ot { color: #27ae60; } 
code span.pp { color: #27ae60; } 
code span.sc { color: #3daee9; } 
code span.ss { color: #da4453; } 
code span.st { color: #f44f4f; } 
code span.va { color: #27aeae; } 
code span.vs { color: #da4453; } 
code span.wa { color: #da4453; } 
}</style>
</head>
<body>
<h1 id="faq_windows">FAQ: Windows</h1>
<h2 id="using_sdl">Using SDL</h2>
<h3 id="general">General</h3>
<h4 id="what_is_supported">What is supported?</h4>
<p>SDL 2.0.0 supports Windows XP, Windows Vista, Windows 7, 8, 10 and
11.</p>
<p>SDL can be built with ICC, Visual C++, Cygwin, MinGW, and
Dev-C++.</p>
<p>For the latest information see <a href="Installation.html" title="wikilink">the page about Installation</a>.</p>
<h3 id="windows_2000">Windows 2000</h3>
<h4 id="im_running_windows_2000_and_i_cant_copy_sdl2.dll">I&#39;m running
Windows 2000 and I can&#39;t copy SDL2.dll!</h4>
<p>For some reason, archives created on Linux have the &quot;Encrypted&quot;
property set when unpacked on Windows 2000. This can be unset by pushing
Advanced from the General tab of the properties window and unchecking
Encrypt contents check box. The files can then be copied normally.</p>
<h2 id="developing_with_sdl">Developing with SDL</h2>
<h3 id="windows_ce">Windows CE</h3>
<h4 id="can_i_build_sdl_for_windows_ce">Can I build SDL for Windows
CE?</h4>
<p>SDL 1.2 is not officially supported on Windows CE, but some people
have successfully built and run SDL applications on Windows CE.</p>
<p>SDL 1.2.5 and newer contain project files and information on building
SDL 1.2 for Windows CE. Take a look at the file README.WinCE in the
source archive for more information.</p>
<p>There is no support for Windows CE in SDL 2.0.</p>
<h3 id="visual_c">Visual C++</h3>
<h4 id="how_do_i_use_sdl_with_visual_c">How do I use SDL with Visual
C++?</h4>
<p>Read the file &quot;VisualC.html&quot; included with both the SDL Visual C++
development archive, and the SDL source archive.</p>
<h4 id="when_using_visual_c_i_get_fatal_error_c1083_cannot_open_include_file_windows.h_no_such_file_or_directory">When
using Visual C++ I get &quot;fatal error C1083: Cannot open include file:
&#39;windows.h&#39;: No such file or directory&quot;</h4>
<p>You need to install the platform SDK, as described here: <a href="http://msdn.microsoft.com/vstudio/express/visualc/usingpsdk/">http://msdn.microsoft.com/vstudio/express/visualc/usingpsdk/</a></p>
<h4 id="when_using_visual_c_i_get_link_errors_relating_to_msvcrt.lib_or_libc">When
using Visual C++ I get link errors relating to MSVCRT.LIB or LIBC</h4>
<p>SDL is dynamically linked with the multi-threaded version of the
Microsoft Visual C runtime. You need to edit your project settings, go
to the C++ language tab, change the listbox to &quot;Code Generation&quot;
settings, and then change the runtime library to &quot;Multi-threaded DLL&quot;.
Make sure you do this with all projects that you link into your
application.</p>
<h4 id="when_using_visual_c_5_i_get_the_following_error_message_sdl.lib_fatal_error_lnk1106_invalid_file_or_disk_full">When
using Visual C++ 5, I get the following error message: SDL.lib : fatal
error LNK1106: invalid file or disk full</h4>
<p>This happens with Visual C++ 5, if you use the prebuilt SDL library
and have not updated to the latest service pack.</p>
<h4 id="why_cant_i_use_visual_c_debugger_with_sdl_1.2_applications">Why
can&#39;t I use Visual C++ debugger with SDL 1.2 applications?</h4>
<p>You need to pass the SDL_INIT_NOPARACHUTE flag to your calls to
SDL_Init() to make the msvc debugger work. Otherwise the debugger will
be unable to trace exceptions, and other debugging features like run to
cursor won&#39;t work.</p>
<h4 id="why_does_the_visual_c_debugger_freeze_at_every_breakpoint_when_debugging_sdl_apps">Why
does the Visual C++ debugger freeze at every breakpoint when debugging
SDL apps?</h4>
<p>The DirectX drivers have a system lock while you have video surfaces
locked. To avoid this, you can set the video driver to GDI by setting
the SDL_VIDEODRIVER environment variable to: windib. Since this changes
video and mouse/keyboard input drivers, you&#39;ll see a difference in
performance and features available, but you&#39;ll be able to debug your
application more easily.</p>
<h4 id="my_application_shows_no_terminal_with_debug_messages">My
application shows no terminal with debug messages</h4>
<p>Link your application with the Console subystem instead:
`/SUBSYSTEM:CONSOLE`.</p>
<p>Alternatively, you can use the Win32 API to conditionally create a
console: ```c</p>
<ol>
<li>include &quot;SDL.h&quot;</li>
<li>include &lt;stdio.h&gt;</li>
<li>include &lt;string.h&gt;</li>
<li>include &lt;windows.h&gt;</li>
</ol>
<p>static void create_console(void) {</p>
<p><code>   AllocConsole();</code><br />
<code>   freopen(&quot;CONIN$&quot;, &quot;r&quot;, stdin);</code><br />
<code>   freopen(&quot;CONOUT$&quot;, &quot;w&quot;, stdout);</code><br />
<code>   freopen(&quot;CONOUT$&quot;, &quot;w&quot;, stderr);</code></p>
<p>}</p>
<p>int main(int argc, char *argv[]) {</p>
<p><code>   if (strcmp(argv[1], &quot;--debug&quot;) == 0) {</code><br />
<code>       create_console();</code><br />
<code>   }</code><br />
<code>   /* ... Enter your secret sauce here */</code><br />
<code>   return 0;</code></p>
<p>} ```</p>
<h3 id="gcc">gcc</h3>
<h4 id="how_do_i_use_sdl_with_gcc_on_windows">How do I use SDL with gcc
on Windows?</h4>
<p>You can build and use SDL with gcc natively using either Cygwin,
MSYS2 or MinGW, or you can build a gcc cross-compiler targeting Windows
from another platform. Setting up these environments is documented at:
<a href="http://www.libsdl.org/extras/win32/gcc.html">http://www.libsdl.org/extras/win32/gcc.html</a>
Once the build environment is set up, you can build your applications as
though you are on an Unix. See the <a href="FAQLinux.html" title="wikilink">Linux FAQ</a> for more details on building applications
in this environment.</p>
<h3 id="dev_c">Dev-C++</h3>
<h4 id="how_do_i_use_sdl_with_dev_c">How do I use SDL with Dev-C++?</h4>
<p>Try the Dev-C++ tutorial available at: <a href="http://cone3d.gamedev.net/cgi-bin/index.pl?page=tutorials/gfxsdl/tut1">http://cone3d.gamedev.net/cgi-bin/index.pl?page=tutorials/gfxsdl/tut1</a>
(<a href="https://web.archive.org/web/20110813073708/http://cone3d.gamedev.net/cgi-bin/index.pl?page=tutorials/gfxsdl/tut1">Archive</a>).
If you have problems, please contact the author of the tutorial.</p>
<p>There are also step by step instructions at: <a href="http://docs.deninet.com/sdl_on_dev_c.htm">http://docs.deninet.com/sdl_on_dev_c.htm</a>
(<a href="https://web.archive.org/web/20080510080708/http://docs.deninet.com/sdl_on_dev_c.htm">Archive</a>)</p>
<h4 id="choosing_console_application_in_the_project_parameters_will_result_in_generating_a_program_that_will_systematically_make_vista_users_crash.">Choosing
&quot;console application&quot; in the project parameters will result in
generating a program that will *systematically* make Vista users
crash.</h4>
<p>Choose &quot;gui application&quot; instead of &quot;console application&quot; when
compiling for Vista.</p>
<h3 id="mingw">MinGW</h3>
<h4 id="my_application_shows_no_terminal_with_debug_messages_1">My
application shows no terminal with debug messages</h4>
<p>When using pkg-config, or certain SDL2 CMake configuration scripts,
`-mwindows` is always added as a link option. This option instructs the
Windows loader to start your application though `WinMain` and don&#39;t show
a console window.</p>
<p>The method to remove `-mwindows` depends on your build system: For
CMake build systems, set the `SDL2_NO_MWINDOWS` CMake variable to remove
`-mwindows` from the link options prior to calling `find_package(SDL2)`.
For pkg-config, use `$(pkg-config sdl2 --libs-only-L --libs-only-l)`
instead. For sdl2-config, use `sed` to remove `-mwindows`:
`$(sdl2-config --libs | sed -E s/-mwindows//)`</p>
<p>When not adding `-mwindows`, you need to make sure
`SDL_SetMainReady()` is called before `SDL_Init` because the `WinMain`
symbol in `SDL2_main` is not used anymore.</p>
<p>You can also conditionally create a console. See the corresponding
FAQ item of Visual C++ above.</p>
<h3 id="miscellaneous">Miscellaneous</h3>
<h4 id="i_get_undefined_reference_to_sdl_main_...">I get &quot;Undefined
reference to &#39;SDL_main&#39;&quot; ...</h4>
<p>Make sure that you are declaring main() as:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode c++"><code class="sourceCode cpp"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="pp">#include </span><span class="im">&quot;SDL.h&quot;</span></span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="dt">int</span> main<span class="op">(</span><span class="dt">int</span> argc<span class="op">,</span> <span class="dt">char</span> <span class="op">*</span>argv<span class="op">[])</span></span></code></pre></div>
<p>You should be using main() instead of WinMain() even though you are
creating a Windows application, because SDL provides a version of
!WinMain() which performs some SDL initialization before calling your
main code. If for some reason you need to use !WinMain(), take a look at
the SDL source code in src/main/win32/SDL_main.c to see what kind of
initialization you need to do in your !WinMain() function so that SDL
works properly.</p>
<p>Warning/error messages that might also be fixed by this are: - found
main and WinMain; defaulting to /subsystem:console - found both wmain
and main; using latter&quot;.</p>
<h4 id="i_get_undefined_reference_to_winmain16">I get &quot;Undefined
reference to &#39;WinMain@16&#39;&quot;</h4>
<p>Under Visual C++, you need to link with SDL2main.lib. Under the gcc
build environments including Dev-C++, you need to link with the output
of &quot;sdl2-config --libs&quot;, which is usually: -lmingw32 -lSDL2main -lSDL2.
While using vcpkg SDL2main.lib is moved to the manual-link folder and
needs to be consumed manually for more information see <a href="https://github.com/microsoft/vcpkg/blob/master/docs/users/integration.md">vcpkg&#39;s
integration docs</a>.</p>
<h4 id="i_get_undefined_reference_to_main_or__main">I get &quot;Undefined
reference to &#39;main&#39;&quot; (or &#39;_main&#39;)</h4>
<p>When you&#39;re building using CMake, make sure to add WIN32 to <a href="https://cmake.org/cmake/help/latest/command/add_executable.html#normal-executables">add_executable</a>.
When using MinGW, add -mwindows to the link options. MSVC users should
add /subsystem:windows. clang-cl users should add -Xlinker
/subsystem:windows.</p>
<h4 id="i_get_undefined_references_to_various_sdl_functions...">I get
undefined references to various SDL functions...</h4>
<p>When you&#39;re compiling with gcc, you need to make sure the output of
sdl2-config follows your source file on the command line: gcc -o test
test.c <code>sdl2-config --cflags --libs</code></p>
<p>If you&#39;re getting undefined references to functions in SDL2_image or
SDL2_mixer, make sure you&#39;re actually linking with those libraries as
well.</p>
</body>
</html>
